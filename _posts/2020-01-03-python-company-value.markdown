---
layout: post
title: 用Python对上市公司做价值分析：（四）企业价值分析
date: 2019-11-26 19:53:35 +0800
categories: [Python, Fintech, SQL Server]
tag: [Python, Fintech, Pandas]
---

{% include header.html %}

# 一、前言：

本文是用 Python 获取企业年报数据并进行企业价值分析系列文章的第四篇，通过对企业历年（一般设定为 5 年）的资产负债表、利润表、现金流量表以及现金流量表补充资料的数据提取，通过折现现金流模型（DCF）计算企业的价值，作为对投资的指导指标。

![股票Beta值计算](/assets/images/beta.png)

# 二、知识点:

- 掌握相关库 pandas, plotly, sklearn, sqlalchemy 的相关用法
- 掌握基本的统计学相关概念，线性回归
- 了解财务分析的三张表的内容以及标准会计科目
- SQL 数据库结构化查询语言的掌握
- 掌握 DCF 模型中相关变量的计算

<!--more-->

# 三、DCF 模型解析：

通过 DCF 模型计算企业内在价值是最符合价值投资理论的方法，可以通过对企业财务报表的数据分析获得相对客观的企业价值。

$$P=\sum_{t=1}^n\frac{CF_t}{(1+r)^t}$$

- $P$：企业的价值
- $CF_t$: 企业在 $t$ 时刻产生的现金流
- $r$：预期现金流的折现率
- $n$：企业的续存期

<big>1.自由现金流 FCFF 的计算</big>

FCFF（Free Cash Flow for the Firm）：企业产生的，在满足了再投资需求之后剩余的、不影响公司持续发展的前提下、可供企业资本提供者和各种利益要求人（股东、债权人）分配的现金。

FCFF = (税后净利润 + 利息费用 + 非现金支出) - 营运资本追加 - 资本性支出
= (1-税率 t) x 息税前利润 EBIT + 折旧 - 资本性支出 CAPX - 净营运资金 NWC 的变化

根据 FCFF 的计算公式，下面就分别求出各个变量值

- 税率 t 的计算：
  根据财务报表计算过去 5 年的企业平均税率:

$$ t = \frac{税收:（会计科目：所得税~所得税费用(133)）} {税前收入: （会计科目：利润总额(103)）} $$
